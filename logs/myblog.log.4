2025-02-28 21:57:46,491 INFO: 请求: GET http://192.168.72.128:5000/admin/posts/7/edit
None
2025-02-28 21:57:46,492 DEBUG: 请求头: {'Host': '192.168.72.128:5000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Referer': 'http://192.168.72.128:5000/admin/posts/?t=1740750765912', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9', 'Cookie': 'session=gamG3iiPQmLr2cuQVXqLvfaxe-vl8Hjl9IlEDI5_UM4; remember_token=1|9326ad545ec45389d8884c1ac2ca473f77151aa7ad73378342ec9d3758a8a4a7f3a4d15ed4fe02792653c1466c37bcce0ad27b244c65a9a0d226586dcf44dabe; csrf_token=ImYzNjVmYjY4ZjU3YTM2MDExMDcwODEwNDk2OTg3ZWNhMjYzOWE2NzMi.Z8HAxQ.quQTrYbwKz6xNyi9AHlXJAjJ8f8'}
None
2025-02-28 21:57:46,496 INFO: 开始处理文章编辑请求，文章ID: 7
None
2025-02-28 21:57:46,496 DEBUG: 请求方法: GET
None
2025-02-28 21:57:46,502 INFO: 开始加载分类选项...
None
2025-02-28 21:57:46,504 INFO: 成功获取到 6 个分类
None
2025-02-28 21:57:46,507 DEBUG: 加载表单数据: 6 个分类, 5 个标签
None
2025-02-28 21:57:46,507 INFO: Locating template 'admin/post/edit.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /data/myblog/app/templates
       -> found ('/data/myblog/app/templates/admin/post/edit.html')
None
2025-02-28 21:57:46,523 INFO: Locating template 'admin/layout.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /data/myblog/app/templates
       -> found ('/data/myblog/app/templates/admin/layout.html')
None
2025-02-28 21:58:09,674 INFO: 请求: POST http://192.168.72.128:5000/admin/posts/7/edit
None
2025-02-28 21:58:09,674 DEBUG: 请求头: {'Host': '192.168.72.128:5000', 'Connection': 'keep-alive', 'Content-Length': '214', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36', 'Accept': '*/*', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8', 'Origin': 'http://192.168.72.128:5000', 'Referer': 'http://192.168.72.128:5000/admin/posts/7/edit', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9', 'Cookie': 'session=gamG3iiPQmLr2cuQVXqLvfaxe-vl8Hjl9IlEDI5_UM4; remember_token=1|9326ad545ec45389d8884c1ac2ca473f77151aa7ad73378342ec9d3758a8a4a7f3a4d15ed4fe02792653c1466c37bcce0ad27b244c65a9a0d226586dcf44dabe; csrf_token=ImYzNjVmYjY4ZjU3YTM2MDExMDcwODEwNDk2OTg3ZWNhMjYzOWE2NzMi.Z8HA2g.JO0bGMe2spjRzB9XKledRczUD_I'}
None
2025-02-28 21:58:09,675 DEBUG: 表单数据: {'title': 'test', 'content': '<p>test</p>\r\n<p>test</p><p>test</p><p>test</p><p>test</p>\r\n\r\ntest01\r\ntest02\r\ntest03', 'category_id': '6', 'status': 'draft', 'summary': 'test01'}
None
2025-02-28 21:58:09,676 INFO: 开始处理文章编辑请求，文章ID: 7
None
2025-02-28 21:58:09,676 DEBUG: 请求方法: POST
None
2025-02-28 21:58:09,676 DEBUG: 表单数据: ImmutableMultiDict([('title', 'test'), ('content', '<p>test</p>\r\n<p>test</p><p>test</p><p>test</p><p>test</p>\r\n\r\ntest01\r\ntest02\r\ntest03'), ('category_id', '6'), ('status', 'draft'), ('summary', 'test01')])
None
2025-02-28 21:58:09,678 INFO: 开始加载分类选项...
None
2025-02-28 21:58:09,678 INFO: 成功获取到 6 个分类
None
2025-02-28 21:58:09,679 INFO: 开始验证表单数据...
None
2025-02-28 21:58:09,695 INFO: 表单验证通过，开始更新文章...
None
2025-02-28 21:58:09,695 DEBUG: 更新前的文章信息: 标题=test, 分类ID=5, 状态=PostStatus.DRAFT
None
2025-02-28 21:58:09,695 DEBUG: 更新前的文章信息: 标题=test, 分类ID=5, 状态=PostStatus.DRAFT
None
2025-02-28 21:58:09,705 INFO: 开始清除缓存
None
2025-02-28 21:58:09,713 INFO: 文章 7 更新完成，当前分类ID=5
None
2025-02-28 21:58:09,713 INFO: 文章更新成功，ID: 7
None
2025-02-28 21:58:09,713 ERROR: 更新文章失败(未知错误): 'dict' object has no attribute 'title'
None
2025-02-28 21:58:09,713 ERROR: 'dict' object has no attribute 'title'
(<class 'AttributeError'>, AttributeError("'dict' object has no attribute 'title'"), <traceback object at 0x769bd6408740>)
Traceback (most recent call last):
  File "/data/myblog/app/controllers/admin/post.py", line 181, in edit
    current_app.logger.debug(f"更新后的文章信息: 标题={post.title}, 分类ID={post.category_id}, 状态={post.status}")
                                                       ^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'title'
2025-02-28 21:58:19,568 INFO: 请求: POST http://192.168.72.128:5000/admin/posts/7/edit
None
2025-02-28 21:58:19,568 DEBUG: 请求头: {'Host': '192.168.72.128:5000', 'Connection': 'keep-alive', 'Content-Length': '214', 'X-Requested-With': 'XMLHttpRequest', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36', 'Accept': '*/*', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8', 'Origin': 'http://192.168.72.128:5000', 'Referer': 'http://192.168.72.128:5000/admin/posts/7/edit', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9', 'Cookie': 'session=gamG3iiPQmLr2cuQVXqLvfaxe-vl8Hjl9IlEDI5_UM4; remember_token=1|9326ad545ec45389d8884c1ac2ca473f77151aa7ad73378342ec9d3758a8a4a7f3a4d15ed4fe02792653c1466c37bcce0ad27b244c65a9a0d226586dcf44dabe; csrf_token=ImYzNjVmYjY4ZjU3YTM2MDExMDcwODEwNDk2OTg3ZWNhMjYzOWE2NzMi.Z8HA2g.JO0bGMe2spjRzB9XKledRczUD_I'}
None
2025-02-28 21:58:19,568 DEBUG: 表单数据: {'title': 'test', 'content': '<p>test</p>\r\n<p>test</p><p>test</p><p>test</p><p>test</p>\r\n\r\ntest01\r\ntest02\r\ntest03', 'category_id': '6', 'status': 'draft', 'summary': 'test01'}
None
2025-02-28 21:58:19,570 INFO: 开始处理文章编辑请求，文章ID: 7
None
2025-02-28 21:58:19,570 DEBUG: 请求方法: POST
None
2025-02-28 21:58:19,570 DEBUG: 表单数据: ImmutableMultiDict([('title', 'test'), ('content', '<p>test</p>\r\n<p>test</p><p>test</p><p>test</p><p>test</p>\r\n\r\ntest01\r\ntest02\r\ntest03'), ('category_id', '6'), ('status', 'draft'), ('summary', 'test01')])
None
2025-02-28 21:58:19,572 INFO: 开始加载分类选项...
None
2025-02-28 21:58:19,573 INFO: 成功获取到 6 个分类
None
2025-02-28 21:58:19,573 INFO: 开始验证表单数据...
None
2025-02-28 21:58:19,574 INFO: 表单验证通过，开始更新文章...
None
2025-02-28 21:58:19,574 DEBUG: 更新前的文章信息: 标题=test, 分类ID=5, 状态=PostStatus.DRAFT
None
2025-02-28 21:58:19,575 DEBUG: 更新前的文章信息: 标题=test, 分类ID=5, 状态=PostStatus.DRAFT
None
2025-02-28 21:58:19,578 INFO: 开始清除缓存
None
2025-02-28 21:58:19,582 INFO: 文章 7 更新完成，当前分类ID=5
None
2025-02-28 21:58:19,582 INFO: 文章更新成功，ID: 7
None
2025-02-28 21:58:19,582 ERROR: 更新文章失败(未知错误): 'dict' object has no attribute 'title'
None
2025-02-28 21:58:19,582 ERROR: 'dict' object has no attribute 'title'
(<class 'AttributeError'>, AttributeError("'dict' object has no attribute 'title'"), <traceback object at 0x769bd64156c0>)
Traceback (most recent call last):
  File "/data/myblog/app/controllers/admin/post.py", line 181, in edit
    current_app.logger.debug(f"更新后的文章信息: 标题={post.title}, 分类ID={post.category_id}, 状态={post.status}")
                                                       ^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'title'
